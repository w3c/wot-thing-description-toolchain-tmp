id: https://www.w3.org/2019/wot/td
name: things_description
title: Thing Description Schema
description: |-
  This schema models the Web of Things domain according to the W3C Web of Things information model.
version: "1.1-22-October-2025"
license: MIT
contributors: Mahda_Noura
see_also:
  - https://www.w3.org/TR/wot-thing-description11/

prefixes:
  linkml: https://w3id.org/linkml/
  td: https://www.w3.org/2019/wot/td#
  owl: http://www.w3.org/2002/07/owl#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  xml: http://www.w3.org/XML/1998/namespace
  xsd: http://www.w3.org/2001/XMLSchema#
  foaf: http://xmlns.com/foaf/0.1/
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  vann: http://purl.org/vocab/vann/
  dcterms: http://purl.org/dc/terms/
  schema: http://schema.org/
  hctl: https://www.w3.org/2019/wot/hypermedia#
  wotsec: https://www.w3.org/2019/wot/security#
  jsonschema: https://www.w3.org/2019/wot/json-schema#
  tm: https://www.w3.org/2019/wot/tm#

default_range: string
default_prefix: td

imports:
  - linkml:types
  - hypermedia
  - wot_security
  - jsonschema

slots:
  type:
    description: >-
      JSON Schema type (e.g., object, array, string, number, or integer)
    range: DataSchemaType
    slot_uri: jsonschema:type

  writeOnly:
    description: >-
      If true, indicates the value can only be written but not read
    range: boolean

  readOnly:
    description: >-
      If true, indicates the value can only be read but not written
    range: boolean

  oneOf:
    description: >-
      Used to ensure the data is valid against exactly one of the specified schemas
    range: DataSchema
    multivalued: true

  unit:
    description: >-
      Unit of the value
    range: string

  enum:
    description: >-
      Restricted set of values provided as an array
    range: string
    multivalued: true
    minimum_value: 1

  format:
    description: >-
      Provides a hint indicating how the data should be formatted
    range: string

  const:
    description: >-
      Provides a constant value
    range: string

  default:
    description: >-
      Default value
    range: string

  items:
    description: >-
      Used to define the characteristics of an array
    range: DataSchema

  maxItems:
    description: >-
      Maximum number of items in array
    range: integer
    minimum_value: 0

  minItems:
    description: >-
      Minimum number of items in array
    range: integer
    minimum_value: 0

  minimum:
    description: >-
      Minimum value
    range: number

  maximum:
    description: >-
      Maximum value
    range: number

  exclusiveMinimum:
    description: >-
      Exclusive minimum value
    range: number

  exclusiveMaximum:
    description: >-
      Exclusive maximum value
    range: number

  minLength:
    description: >-
      Minimum length of string
    range: integer
    minimum_value: 0

  maxLength:
    description: >-
      Maximum length of string
    range: integer
    minimum_value: 0

  multipleOf:
    description: >-
      A number that divides the value with no remainder
    range: number
    minimum_value: 0.000001

  required:
    description: >-
      Required properties
    range: string
    multivalued: true

  "@context":
    description: JSON-LD keyword to define short-hand names called terms that are used throughout a TD document.
    required: true
    exactly_one_of:
      - range: uri
        pattern: '^(https://www\.w3\.org/2019/wot/td/v1|https://www\.w3\.org/2022/wot/td/v1\.1|http://www\.w3\.org/ns/td)$'
      - range: string
        multivalued: true
        minimum_value: 1

  "@type":
    description: JSON-LD keyword to label the object with semantic tags (or types).
    range: string
    exactly_one_of:
      - range: string
      - range: string
        multivalued: true
        minimum_value: 1

  id:
    description: >-
      Identifier of the Thing in form of a URI [[RFC3986]] (e.g., stable URI, temporary and mutable URI, 
      URI with local IP address, URN, etc.).
    todos: CHECK WHERE THE DEFINITION COMES FROM, IT IS NOT IN ONTOLOGY OR SHACL
    range: uri

  version:
    slot_uri: td:versionInfo
    description: >-
      Provides version information.
    range: VersionInfo

  created:
    slot_uri: dcterms:created
    description: >-
      Provides information when the TD instance was created.
    range: datetime

  modified:
    description: >-
      Provides information when the TD instance was last modified.
    slot_uri: dcterms:modified
    range: datetime

  support:
    description: >-
      Provides information about the TD maintainer as URI scheme (e.g., mailto [RFC6068], tel [RFC3966], https [RFC9112]).
    annotations:
      spec_table_definition: >-
        Provides information about the TD maintainer as URI scheme 
        (e.g., `mailto` [RFC6068], `tel` [RFC3966], `https` [RFC9112]).
    slot_uri: td:supportContact
    see_also: schema:contactPoint
    range: uri

  base:
    slot_uri: td:baseURI
    description: >-
      Define the base URI that is used for all relative URI references throughout a TD document. In TD instances,
      all relative URIs are resolved relative to the base URI using the algorithm defined in RFC3986.
    annotations:
      spec_table_definition: >-
        Define the base URI that is used for all relative URI references throughout a TD document.
        In TD instances, all relative URIs are resolved relative to the base URI using the algorithm
        defined in RFC3986.
        

        `base` does not affect the URIs used in `@context` and the IRIs used within Linked Data 
        LINKED-DATA graphs that are relevant when semantic processing is applied to TD instances.
    range: uri

  properties:
    slot_uri: td:hasPropertyAffordance
    description: >-
      All Property-based Interaction Affordances of the Thing.
    range: PropertyAffordance
    multivalued: true
    inlined: true

  actions:
    description: >-
      All Action-based Interaction Affordances of the Thing.
    slot_uri: td:hasActionAffordance
    range: ActionAffordance
    multivalued: true
    inlined: true

  events:
    slot_uri: td:hasEventAffordance
    description: >-
      All Event-based Interaction Affordances of the Thing.
    range: EventAffordance
    multivalued: true
    inlined: true

  links:
    slot_uri: td:hasLink
    description: >-
      Provides Web links to arbitrary resources that relate to the specified Thing Description.
    range: Link
    multivalued: true

  forms:
    slot_uri: td:hasForm
    description: >-
      Set of form hypermedia controls that describe how an operation can be performed. 
      Forms are serializations of Protocol Bindings. 
      Thing level forms are used to describe endpoints for a group of interaction affordances.
    annotations:
      spec_table_definition: >-
        Set of form hypermedia controls that describe how an operation can be performed. 
        Forms are serializations of Protocol Bindings. 
        [Thing level](#dfn-td-thing-level) forms are used to describe endpoints for a group of interaction affordances.
    range: Form
    multivalued: true

  security:
    slot_uri: td:hasSecurityConfiguration
    description: >-
      Set of security definition names, chosen from those defined in securityDefinitions. 
      These must all be satisfied for access to resources.
    annotations:
      spec_table_definition: >-
        Set of security definition names, chosen from those defined in `securityDefinitions`. 
        These must all be satisfied for access to resources.
    any_of:
      - range: string
      - range: string
        multivalued: true

  securityDefinitions:
    slot_uri: td:definesSecurityScheme
    description: >-
      Set of named security configurations (definitions only). 
      Not actually applied unless names are used in a security name-value pair.
    annotations:
      spec_table_definition: >-
        Set of named security configurations (definitions only). 
        Not actually applied unless names are used in a `security` name-value pair.
    range: SecurityScheme
    multivalued: true
    inlined: true
    required: true
    minimum_value: 1

  profile:
    slot_uri: td:followsProfile
    description: >-
      Indicates the WoT Profile mechanisms followed by this Thing Description and the corresponding Thing implementation.
    any_of:
      - range: uri
      - range: uri
        multivalued: true

  schemaDefinitions:
    slot_uri: td:schemaDefinitions
    description: >-
      Set of named data schemas. To be used in a schema name-value pair inside an AdditionalExpectedResponse object.
    annotations:
      spec_table_definition: >-
        Set of named data schemas. To be used in a schema name-value pair inside an `AdditionalExpectedResponse` object.
    range: DataSchema
    multivalued: true
    inlined: true

  uriVariables:
    description: >-
      Define URI template variables according to RFC6570 as collection based on DataSchema declarations.
      The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema since each variable 
      needs to be serialized to a string inside the href upon the execution of the operation.
      If the same variable is both declared in Thing level uriVariables and in Interaction Affordance
      level, the Interaction Affordance level variable takes precedence.
    annotations:
      spec_table_definition: >-
        Define URI template variables according to [[RFC6570]] as collection based on **DataSchema** declarations. 
        The individual variables **DataSchema** cannot be an **ObjectSchema** or an **ArraySchema** since each variable 
        needs to be serialized to a string inside the `href` upon the execution of the operation. 
        If the same variable is both declared in [Thing level](#) `uriVariables` and in **Interaction Affordance** 
        level, the **Interaction Affordance** level variable takes precedence.
    slot_uri: td:hasUriTemplateSchema
    range: DataSchema
    multivalued: true
    inlined: true

  title:
    description: >-
      Provides a human-readable title (e.g., display a text for UI representation) based on a default language.
    slot_uri: td:title
    range: string

  titles:
    description: >-
      Provides multi-language human-readable titles (e.g., display a text for UI representation in different languages).
      Also see MultiLanguage.
    slot_uri: td:titleInLanguage
    inlined: true
    multivalued: true
    range: MultiLanguage

  description:
    description: >-
      Provides additional (human-readable) information based on a default language.
    slot_uri: td:description
    range: string

  descriptions:
    description: >-
      Can be used to support (human-readable) information in different languages.
      Also see MultiLanguage.
    slot_uri: td:descriptionInLanguage
    inlined: true
    multivalued: true
    range: MultiLanguage

  op:
    description: >-
      Indicates the operation type (e.g., readproperty, writeproperty, observeproperty, etc.)
    range: string
    multivalued: true

  contentType:
    description: >-
      Media type of the interaction
    range: string

  href:
    description: >-
      URI of the endpoint where an interaction can be initiated
    range: uri
    required: true

  contentCoding:
    description: >-
      Content coding values indicate an encoding transformation that has been applied to a representation
    range: string

  contentMediaType:
    description: >-
      Media type of the content
    range: string

  additionalResponses:
    description: >-
      This field indicates additional expected responses
    range: AdditionalExpectedResponse
    multivalued: true

  response:
    description: >-
      This field indicates the expected response media type
    range: ExpectedResponse

  subprotocol:
    description: >-
      Indicates the exact protocol that should be used for additional notifications
    range: string
    examples:
      - value: longpoll
      - value: websub
      - value: sse

  contentEncoding:
    description: >-
      Content encoding values indicate an encoding transformation that has been applied to a representation
    range: string

  schema:
    slot_uri: hctl:hasAdditionalOutputSchema
    description: >-
      Schema of the response
    range: string

  success:
    description: >-
      Indicates whether the response represents a successful interaction
    range: boolean

types:
  number:
    base: decimal
    uri: xsd:decimal
    description: >-
      A number can be an integer or a decimal number

  integer:
    base: int
    uri: xsd:integer
    description: >-
      An integer number

  boolean:
    base: bool
    uri: xsd:boolean
    description: >-
      A boolean value (true or false)

  string:
    base: str
    uri: xsd:string
    description: >-
      A character string

  uri:
    base: str
    uri: xsd:anyURI
    description: >-
      A URI

  datetime:
    base: str
    uri: xsd:dateTime
    description: >-
      A date and time value

  bcp47_string:
    base: str
    uri: xsd:string
    pattern: "^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$"

classes:
  MultiLanguage:
    description: >-
      A Map providing a set of human-readable texts in different languages identified by language tags as defined in BCP47.
    attributes:
      language_tag:
        range: string
        identifier: true
        required: true
        pattern: "^[a-zA-Z]{2,3}(-[a-zA-Z]{3}(-[a-zA-Z]{3}){0,2})?$"
      language_value:
        range: string
        required: true

  Thing:
    class_uri: td:Thing
    tree_root: true
    description: >-
      An abstraction of a physical or a virtual entity whose metadata and interfaces are described by a WoT Thing
      Description, whereas a virtual entity is the composition of one or more Things.
    annotations:
      spec_scope_note: |
        :::NOTE
        
        The exact value of `@context` URI will change upon the publication of the *W3C Recommendation* version.
        :::
        
        For `@context` the following rules are defined for Thing Description instances:
        
        - The `@context` name-value pair *MUST* contain the 'anyURI' `https://www.w3.org/ns/wot-next/td` in order to identify the document as a TD 2.0 which would allow Consumers to use the newly introduced terms.
        - When `@context` is an Array, the anyURI `https://www.w3.org/ns/wot-next/td` *MAY* be followed by elements of type `anyURI` or type Map in any order, while it is *RECOMMENDED* to include only one Map with all the name-value pairs in the @context Array.
        - Maps contained in an `@context` Array *MAY* contain name-value pairs, where the value is a namespace identifier of type anyURI and the name a Term or prefix denoting that namespace.
        - One Map contained in an `@context` Array *SHOULD* contain a name-value pair that defines the default language for the Thing Description, where the name is the Term @language and the value is a well-formed language tag as defined by BCP47 (e.g., en, de-AT, gsw-CH, zh-Hans, zh-Hant-HK, sl-nedis).

        To determine the base direction of all human-readable text in Thing Description and Thing Model instances this specification recommends to follow the STRING-META guideline about [string-specific directional information](https://www.w3.org/TR/string-meta/#string_specific_direction) when no built-in mechanism for associating base direction metadata is available.

        TD Processors *SHOULD* be aware of certain special cases when processing bidirectional text. 
        TD Processors *SHOULD* take care to use bidi isolation when presenting strings to users, particularly when embedding in surrounding text (e.g., for Web user interface).
        Mixed direction text can occur in any language, even when the language is properly identified.

        TD producers *SHOULD* attempt to provide mixed direction strings in a way that can be displayed successfully by a naive user agent. 
        For example, if an RTL string begins with an LTR run (such as a number or a brand or trade name in Latin script), including an RLM character at the start of the string or wrapping opposite direction runs in bidi controls can assist in proper display.

        *Strings on the Web: Language and Direction Metadata* [[string-meta]] provides some guidance and illustrates a number of pitfalls when using bidirectional text.

        In addition to the explicitly provided Interaction Affordances in the `properties`, `actions`, and `events` Maps, a Thing can also provide meta-interactions, which are indicated by `Form` instances in its optional `forms` Array.
        When the `forms` Array of a Thing instance contains `Form` instances, it MUST contain `op` member with the string values assigned to the name `op`, either directly or within an [[Array]], MUST be one of the following *operation types*:
        `readallproperties`, `writeallproperties`, `readmultipleproperties`, `writemultipleproperties`, `observeallproperties`, `unobserveallproperties`, `queryallactions`, `subscribeallevents`, or `unsubscribeallevents`. 
        (See [an example](#td-forms-readall-example) for an usage of `form` in a Thing instance.)

        The data schema for each of the property meta-interactions is constructed by combining the data schemas of each `PropertyAffordance` instance in a single `ObjectSchema` instance, where the `properties` Map of the `ObjectSchema` instance contains each data schema of the `PropertyAffordances` identified by the name of the corresponding `PropertyAffordances` instance.

        If not specified otherwise (e.g., through a TD Context Extension), the request data of the `readmultipleproperties` operation is an Array that contains the intended `PropertyAffordances` instance names, which is serialized to the content type specified by the `Form` instance.
    slots:
      - "@context"
      - "@type"
      - id
      - title
      - titles
      - description
      - descriptions
      - version
      - created
      - modified
      - support
      - base
      - links
      - forms
      - security
      - securityDefinitions
      - profile
      - schemaDefinitions
      - uriVariables
      - properties
      - actions
      - events
    slot_usage:
      "@context":    
        required: true
        exactly_one_of:
          - range: uri
            pattern: ^(https://www\.w3\.org/2019/wot/td/v1|https://www\.w3\.org/2022/wot/td/v1\.1|http://www\.w3\.org/ns/td)$
          - multivalued: true
            minimum_value: 1
      "@type":
        range: string
        exactly_one_of:
          - range: string
          - range: string
            multivalued: true
            minimum_value: 1
      security:
        required: true
        exactly_one_of:
          - range: string
          - range: string
            multivalued: true
            minimum_value: 1
      title:
        required: true
      securityDefinitions:
        range: SecurityScheme
        multivalued: true
        required: true
        minimum_value: 1
      properties:
        slot_uri: td:hasPropertyAffordance
        description: >-
          All Property-based Interaction Affordances of the Thing. Each key is a unique property name
          and its value is a PropertyAffordance object.
        range: PropertyAffordance
      actions:
        description: >-
          All Action-based Interaction Affordances of the Thing. Each key is a unique action name
          and its value is an ActionAffordance object.
        range: ActionAffordance
        multivalued: true
        inlined: true
        annotations:
          jsonschema_config:
            tag: jsonschema_config
            value:
              type: object
              additionalProperties:
                $ref: "#/$defs/ActionAffordance"
      events:
        description: >-
          All Event-based Interaction Affordances of the Thing. Each key is a unique event name
          and its value is an EventAffordance object.
        range: EventAffordance
        multivalued: true
        inlined: true
        annotations:
          jsonschema_config:
            tag: jsonschema_config
            value:
              type: object
              additionalProperties:
                $ref: "#/$defs/EventAffordance"

  VersionInfo:
    class_uri: td:versionInfo
    #A. CLEAN DESCRIPTION FOR SHACL/RDF
    description: >-
      Metadata of a Thing that provides version information about the TD document. 
      If required, additional version information such as firmware and hardware version 
      (term definitions outside of the TD namespace) can be extended via the TD Context Extension mechanism.
    #B. FORMATTED DESCRIPTION FOR SPEC
    annotations:
      # FORMATTED DESCRIPTION (PRE-TABLE)
      spec_description: >-
        Metadata of a Thing that provides version information about the TD document. 
        If required, additional version information such as firmware and hardware version 
        (term definitions outside of the TD namespace) can be extended via the 
        [TD Context Extension](#dfn-context-ext) mechanism.
      # FORMATTED SCOPE NOTE (POST-TABLE)
      spec_scope_note: >-
        It is recommended that the values within `instances` and `model` of the `VersionInfo` [Class](#dfn-class) 
        follow the semantic versioning pattern, where a sequence of three numbers separated by a dot indicates the 
        major version, minor version, and patch version, respectively. See [SEMVER](#bib-semver) for details.
    attributes:
      instance:
        description: >-
          Provides a version identifier of this TD.
        slot_uri: td:instance
        range: string
        required: true
      model:
        description: >-
          Provides a version indicator of the underlying TM.
        slot_uri: td:model
        range: string

  InteractionAffordance:
    class_uri: td:InteractionAffordance
    description: >-
      Metadata of a Thing that shows the possible choices to Consumers, thereby suggesting how Consumers may interact with the Thing.
      There are many types of potential affordances, but W3C WoT defines three types of Interaction Affordances: Properties, Actions, and Events.
    abstract: true
    attributes:
      name:
        description: >-
          Name of the interaction affordance.
        slot_uri: td:name
        range: string
        identifier: true
      forms:
        description: >-
          Set of form hypermedia controls that describe how an operation can be performed.
          The array cannot be empty.
        slot_uri: td:hasForm
        range: Form
        multivalued: true
        required: true
        minimum_cardinality: 1
        annotations:
          jsonschema_config:
            tag: jsonschema_config
            value:
              type: array
              items:
                $ref: "#/$defs/Form"
              minItems: 1
    slots:
      - title
      - titles
      - description
      - descriptions
      - uriVariables
      - "@type"

  PropertyAffordance:
    is_a: InteractionAffordance
    class_uri: td:PropertyAffordance
    description: >-
      An Interaction Affordance that exposes state of the Thing.
      This state can be retrieved (read) and/or updated (write).
      Things can also choose to make Properties observable by pushing the new state after a change.
    annotations:
      jsonschema_config:
        tag: jsonschema_config
        value:
          additionalProperties: true
    slots:
      - type
      - writeOnly
      - readOnly
      - oneOf
      - unit
      - enum
      - format
      - const
      - default
      - items
      - maxItems
      - minItems
      - minimum
      - maximum
      - exclusiveMinimum
      - exclusiveMaximum
      - minLength
      - maxLength
      - multipleOf
      - properties
      - required
    attributes:
      observable:
        description: >-
          A hint that indicates whether Servients hosting the Thing and Intermediaries should provide a Protocol Binding
          that supports the observeproperty and unobserveproperty operations for this Property.
        slot_uri: td:isObservable
        range: boolean
      forms:
        description: >-
          Set of form hypermedia controls that describe how an operation can be performed.
          The array cannot be empty.
        slot_uri: td:hasForm
        range: Form
        multivalued: true
        required: true
        minimum_cardinality: 1
        annotations:
          jsonschema_config:
            tag: jsonschema_config
            value:
              type: array
              items:
                $ref: "#/$defs/Form"
              minItems: 1

  ActionAffordance:
    is_a: InteractionAffordance
    class_uri: td:ActionAffordance
    description: >-
      An Interaction Affordance that allows to invoke a function of the Thing,
      which manipulates state (e.g., toggling a lamp on or off) or triggers a process on the Thing (e.g., dim a lamp over time).
    annotations:
      jsonschema_config:
        tag: jsonschema_config
        value:
          additionalProperties: true
    attributes:
      input:
        description: >-
          Used to define the input data schema of the Action.
        slot_uri: td:hasInputSchema
        range: DataSchema
      output:
        description: >-
          Used to define the output data schema of the Action.
        slot_uri: td:hasOutputSchema
        range: DataSchema
      safe:
        description: >-
          Signals if the Action is safe (=true) or not.
          Used to signal if there is no internal state is changed when invoking an Action.
          In that case responses can be cached as example.
        slot_uri: td:isSafe
        range: boolean
      idempotent:
        description: >-
          Indicates whether the Action is idempotent (=true) or not.
          Informs whether the Action can be called repeatedly with the same result, if present, based on the same input.
        slot_uri: td:isIdempotent
        range: boolean
      synchronous:
        description: >-
          Indicates whether the action is synchronous (=true) or not.
          A synchronous action means that the response contains all information about the result
          and no further querying about the status is needed.
        slot_uri: td:isSynchronous
        range: boolean

  EventAffordance:
    is_a: InteractionAffordance
    class_uri: td:EventAffordance
    description: >-
      An Interaction Affordance that describes an event source,
      which asynchronously pushes event data to Consumers (e.g., overheating alerts).
    annotations:
      jsonschema_config:
        tag: jsonschema_config
        value:
          additionalProperties: true
    attributes:
      subscription:
        description: >-
          Defines data that needs to be passed upon subscription,
          e.g., filters or message format for setting up Webhooks.
        slot_uri: td:hasSubscriptionSchema
        range: DataSchema
      data:
        description: >-
          Defines the data schema of the Event instance messages pushed by the Thing.
        slot_uri: td:hasNotificationSchema
        range: DataSchema
      dataResponse:
        description: >-
          Defines the data schema of the Event response messages sent by the consumer in response to a data message.
        slot_uri: td:hasNotificationResponseSchema
        range: DataSchema
      cancellation:
        description: >-
          Defines any data that needs to be passed to cancel a subscription,
          e.g., a specific message to remove a Webhook.
        slot_uri: td:hasCancellationSchema
        range: DataSchema

  AdditionalExpectedResponse:
    description: >-
      Describes additional expected responses from an interaction
    slots:
      - contentType
      - schema
      - success

  ExpectedResponse:
    description: >-
      Describes the expected response from an interaction
    slots:
      - contentType