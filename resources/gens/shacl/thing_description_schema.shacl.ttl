@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix jsonschema: <https://www.w3.org/2019/wot/json-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix schema1: <http://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

td:InteractionAffordance a sh:NodeShape ;
    sh:closed true ;
    sh:description "TOOD" ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class hctl:Form ;
            sh:description "Set of form hypermedia controls that describe how an operation can be performed." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 8 ;
            sh:path td:forms ],
        [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path td:title ],
        [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path td:descriptions ],
        [ sh:class td:MultiLanguage ;
            sh:nodeKind sh:IRI ;
            sh:order 0 ;
            sh:path td:titles ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Define URI template variables according to RFC6570 as collection based on schema specifications. The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema. TODO: range is not obvious from the ontology." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 7 ;
            sh:path td:uriVariables ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path td:description ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 5 ;
            sh:path td:descriptionInLanguage ],
        [ sh:datatype xsd:string ;
            sh:description "Indexing property to store entity names when serializing them in a JSON-LD @index container." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path td:name ] ;
    sh:targetClass td:InteractionAffordance .

td:SecurityScheme a sh:NodeShape ;
    sh:closed true ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path td:descriptions ],
        [ sh:datatype xsd:string ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path <https://www.w3.org/2019/wot/td#@type> ],
        [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path td:description ],
        [ sh:in ( wotsec:NoSecurityScheme wotsec:ComboSecurityScheme wotsec:BasicSecurityScheme wotsec:DigestSecurityScheme wotsec:BearerSecurityScheme wotsec:PSKSecurityScheme wotsec:OAuth2SecurityScheme wotsec:APIKeySecurityScheme wotsec:AutoSecurityScheme ) ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:order 4 ;
            sh:path td:scheme ],
        [ sh:datatype xsd:anyURI ;
            sh:description "URI of the proxy server this security configuration provides access to. If not given, the corresponding security configuration is for the endpoint." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path td:proxy ] ;
    sh:targetClass td:SecurityScheme .

td:Thing a sh:NodeShape ;
    sh:closed true ;
    sh:description "An abstraction of a physical or a virtual entity whose metadata and interfaces are described by a WoT Thing Description, whereas a virtual entity is the composition of one or more Things." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path <https://www.w3.org/2019/wot/td#@type> ],
        [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 6 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:ActionAffordance ;
            sh:description "All Action-based interaction affordances of the Thing." ;
            sh:nodeKind sh:IRI ;
            sh:order 21 ;
            sh:path td:actions ],
        [ sh:class schema1:version ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 17 ;
            sh:path td:version ],
        [ sh:datatype xsd:string ;
            sh:description "A Thing may define abstract security schemes, used to configure the secure access of (a set of) affordance(s). TODO: check" ;
            sh:nodeKind sh:Literal ;
            sh:order 9 ;
            sh:path td:security ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path td:title ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 7 ;
            sh:path td:descriptionInLanguage ],
        [ sh:description "A security scheme applied to a (set of) affordance(s). TODO check" ;
            sh:or ( [ sh:datatype xsd:string ;
                        sh:nodeKind sh:Literal ] [ sh:in ( wotsec:NoSecurityScheme wotsec:ComboSecurityScheme wotsec:BasicSecurityScheme wotsec:DigestSecurityScheme wotsec:BearerSecurityScheme wotsec:PSKSecurityScheme wotsec:OAuth2SecurityScheme wotsec:APIKeySecurityScheme wotsec:AutoSecurityScheme ) ] ) ;
            sh:order 8 ;
            sh:path td:securityDefinitions ],
        [ sh:class hctl:Link ;
            sh:description "Provides Web links to arbitrary resources that relate to the specified Thing Description." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 19 ;
            sh:path td:links ],
        [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path td:descriptions ],
        [ sh:datatype xsd:anyURI ;
            sh:description "TODO" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:id ],
        [ sh:class hctl:Form ;
            sh:description "Set of form hypermedia controls that describe how an operation can be performed. Forms are serializations of Protocol Bindings." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 18 ;
            sh:path td:forms ],
        [ sh:datatype xsd:anyURI ;
            sh:description "Provides information about the TD maintainer as URI scheme (e.g., <code>mailto</code> [[RFC6068]],<code>tel</code> [[RFC3966]],<code>https</code> [[RFC9112]])." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 15 ;
            sh:path td:supportContact ],
        [ sh:datatype xsd:string ;
            sh:description "Provides a version identicator of this TD instance." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 12 ;
            sh:path td:instance ],
        [ sh:datatype xsd:dateTime ;
            sh:description "Provides information when the TD instance was created." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 13 ;
            sh:path td:created ],
        [ sh:class td:MultiLanguage ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path td:titles ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path td:description ],
        [ sh:datatype xsd:anyURI ;
            sh:description "Define the base URI that is used for all relative URI references throughout a TD document." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 16 ;
            sh:path td:base ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "TODO CHECK" ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 10 ;
            sh:path td:schemaDefinitions ],
        [ sh:class td:EventAffordance ;
            sh:description "All Event-based interaction affordances of the Thing." ;
            sh:nodeKind sh:IRI ;
            sh:order 22 ;
            sh:path td:events ],
        [ sh:class td:PropertyAffordance ;
            sh:description "All Property-based interaction affordances of the Thing." ;
            sh:nodeKind sh:IRI ;
            sh:order 20 ;
            sh:path td:properties ],
        [ sh:datatype xsd:anyURI ;
            sh:description "Indicates the WoT Profile mechanisms followed by this Thing Description and the corresponding Thing implementation." ;
            sh:nodeKind sh:Literal ;
            sh:order 11 ;
            sh:path td:profile ],
        [ sh:datatype xsd:dateTime ;
            sh:description "Provides information when the TD instance was last modified." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 14 ;
            sh:path td:modified ] ;
    sh:targetClass td:Thing .

schema1:version a sh:NodeShape ;
    sh:closed true ;
    sh:description "Provides version information." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path td:model ],
        [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:instance ] ;
    sh:targetClass schema1:version .

hctl:AdditionalExpectedResponse a sh:NodeShape ;
    sh:closed true ;
    sh:description "Communication metadata describing the expected response message for additional responses." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "TODO Check, was not in hctl ontology, if not could be source of discrepancy" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path td:schema ],
        [ sh:datatype xsd:string ;
            sh:description "This optional term can be used to define a data schema for an additional response if it differs from the default output data schema. Rather than a DataSchema object, the name of a previous definition given in a SchemaDefinitions map must be used." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:additionalOutputSchema ],
        [ sh:datatype xsd:boolean ;
            sh:description "Signals if the additional response should not be considered an error." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path td:success ],
        [ sh:datatype xsd:string ;
            sh:description "TODO Check, was not in hctl ontology, if not could be source of discrepancy" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path td:contentType ] ;
    sh:targetClass hctl:AdditionalExpectedResponse .

hctl:ExpectedResponse a sh:NodeShape ;
    sh:closed true ;
    sh:description "Communication metadata describing the expected response message for the primary response." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "TODO Check, was not in hctl ontology, if not could be source of discrepancy" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:contentType ] ;
    sh:targetClass hctl:ExpectedResponse .

hctl:Link a sh:NodeShape ;
    sh:closed true ;
    sh:description "A link can be viewed as a statement of the form link context that has a relation type resource at link target\", where the optional target attributes may further describe the resource." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:anyURI ;
            sh:description "Target IRI of a link or submission target of a Form" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path hctl:target ],
        [ sh:datatype xsd:string ;
            sh:description "Target attribute that specifies one or more sizes for the referenced icon. Only applicable for relation type 'icon'. The value pattern follows {Height}x{Width} (e.g., \\\"16x16\\\", \\\"16x16 32x32\\\")." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path td:sizes ],
        [ sh:datatype xsd:string ;
            sh:description "A link relation type identifies the semantics of a link." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path td:relation ],
        [ sh:datatype xsd:string ;
            sh:description "Target attribute providing a hint indicating what the media type [IANA-MEDIA-TYPES] of the result of dereferencing the link should be." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path td:hintsAtMediaType ],
        [ sh:datatype xsd:string ;
            sh:description "The hreflang attribute specifies the language of a linked document. The value of this must be a valid language tag [[BCP47]]." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path td:hreflang ;
            sh:pattern "^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$" ],
        [ sh:datatype xsd:anyURI ;
            sh:description "By default, the context, or anchor, of a link conveyed in the Link header field is the URL of the representation it is associated with, as defined in RFC7231, Section 3.1.4.1, and is serialized as a URI." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path td:anchor ],
        [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path td:type ] ;
    sh:targetClass hctl:Link .

td:ActionAffordance a sh:NodeShape ;
    sh:closed true ;
    sh:description "An Interaction Affordance that allows to invoke a function of the Thing, which manipulates state (e.g., toggling a lamp on or off) or triggers a process on the Thing (e.g., dim a lamp over time)." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class hctl:Form ;
            sh:description "Set of form hypermedia controls that describe how an operation can be performed." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 13 ;
            sh:path td:forms ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 7 ;
            sh:path td:title ],
        [ sh:datatype xsd:string ;
            sh:description "Indexing property to store entity names when serializing them in a JSON-LD @index container." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 11 ;
            sh:path td:name ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 8 ;
            sh:path td:description ],
        [ sh:datatype xsd:boolean ;
            sh:description "Signals if the action is safe (=true) or not. Used to signal if there is no internal state (cf. resource state) is changed when invoking an Action." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:safe ],
        [ sh:datatype xsd:boolean ;
            sh:description "Indicates whether the action is idempotent (=true) or not. Informs whether the action can be called repeatedly with the same results, if present, based on the same input." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path td:idempotent ],
        [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 9 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 10 ;
            sh:path td:descriptionInLanguage ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Used to define the output data schema of the action." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 4 ;
            sh:path td:output ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Define URI template variables according to RFC6570 as collection based on schema specifications. The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema. TODO: range is not obvious from the ontology." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 12 ;
            sh:path td:uriVariables ],
        [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 6 ;
            sh:path td:descriptions ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Used to define the input data schema of the action." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 3 ;
            sh:path td:input ],
        [ sh:datatype xsd:boolean ;
            sh:description "Indicates whether the action is synchronous (=true) or not. A synchronous action means that the response of action contains all the information about the result of the action and no further querying about the status of the action is needed. Lack of this keyword means that no claim on the synchronicity of the action can be made." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path td:synchronous ],
        [ sh:class td:MultiLanguage ;
            sh:nodeKind sh:IRI ;
            sh:order 5 ;
            sh:path td:titles ] ;
    sh:targetClass td:ActionAffordance .

td:EventAffordance a sh:NodeShape ;
    sh:closed true ;
    sh:description "An Interaction Affordance that describes an event source, which asynchronously pushes event data to Consumers (e.g., overhearing alerts)." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class td:MultiLanguage ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path td:titles ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Defines data that needs to be passed upon subscription, e.g., filters or message format for setting up Webhooks." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 0 ;
            sh:path td:subscription ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Defines any data that needs to be passed to cancel a subscription, e.g., a specific message to remove a Webhook." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 1 ;
            sh:path td:cancellation ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 9 ;
            sh:path td:descriptionInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 8 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 5 ;
            sh:path td:descriptions ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Define URI template variables according to RFC6570 as collection based on schema specifications. The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema. TODO: range is not obvious from the ontology." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 11 ;
            sh:path td:uriVariables ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 6 ;
            sh:path td:title ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Defines the data schema of the Event response messages sent by the consumer in a response to a data message." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 3 ;
            sh:path td:notificationResponse ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 7 ;
            sh:path td:description ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Defines the data schema of the Event instance messages pushed by the Thing." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 2 ;
            sh:path td:notification ],
        [ sh:datatype xsd:string ;
            sh:description "Indexing property to store entity names when serializing them in a JSON-LD @index container." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 10 ;
            sh:path td:name ],
        [ sh:class hctl:Form ;
            sh:description "Set of form hypermedia controls that describe how an operation can be performed." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 12 ;
            sh:path td:forms ] ;
    sh:targetClass td:EventAffordance .

td:PropertyAffordance a sh:NodeShape ;
    sh:closed true ;
    sh:description "An Interaction Affordance that exposes state of the Thing. This state can be retrieved (read) and/or updated." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Used to store the indexing name in the parent object when this schema appears as a property of an object schema." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path td:propertyName ],
        [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path td:title ],
        [ sh:class hctl:Form ;
            sh:description "Set of form hypermedia controls that describe how an operation can be performed." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 12 ;
            sh:path td:forms ],
        [ sh:datatype xsd:string ;
            sh:description "Boolean value that is a hint to indicate whether a property interaction/value is read only (=true) or not (=false)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 7 ;
            sh:path td:readonly ],
        [ sh:class td:MultiLanguage ;
            sh:description "TODO, check, according to the description a description should not contain a lang tag." ;
            sh:nodeKind sh:IRI ;
            sh:order 9 ;
            sh:path td:descriptions ],
        [ sh:datatype xsd:string ;
            sh:description "Boolean value that is a hint to indicate whether a property interaction/value is write only (=true) or not (=false)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path td:writeOnly ],
        [ sh:class jsonschema:DataSchema ;
            sh:description "Define URI template variables according to RFC6570 as collection based on schema specifications. The individual variables DataSchema cannot be an ObjectSchema or an ArraySchema. TODO: range is not obvious from the ontology." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 11 ;
            sh:path td:uriVariables ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 4 ;
            sh:path td:descriptionInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path td:description ],
        [ sh:class td:MultiLanguage ;
            sh:nodeKind sh:IRI ;
            sh:order 8 ;
            sh:path td:titles ],
        [ sh:datatype xsd:string ;
            sh:description "Indexing property to store entity names when serializing them in a JSON-LD @index container." ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 10 ;
            sh:path td:name ],
        [ sh:datatype xsd:boolean ;
            sh:description "A hint that indicates whether Servients hosting the Thing and Intermediaries should probide a Protocol Binding  that supports the observeproperty and unobserveproperty operations for this Property." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:observable ] ;
    sh:targetClass td:PropertyAffordance .

hctl:Form a sh:NodeShape ;
    sh:closed true ;
    sh:description "A form can be viewed as a statement of to perform an operation type on form context,  make a request method to submission target, where the optional form fields may further describe the required request. In Thing Descriptions, the form context is the surrounding Object,  such as Properties, Actions, and Events or the Thing itself for meta-interactions." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:description "Content coding values indicate an encoding transformation that has been or can be applied to a representation.  Content codings are primarily used to allow a representation to be compressed or otherwise usefully transformed  without losing the identity of its underlying media type and without loss of information. Examples of content coding include \\\"gzip\\\", \\\"deflate\\\", etc." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 3 ;
            sh:path td:contentCoding ],
        [ sh:class hctl:ExpectedResponse ;
            sh:description "This optional term can be used if, e.g., the output communication metadata differ from input metadata (e.g., output contentType differ from the input contentType). The response name contains metadata that is only valid for the response messages." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 6 ;
            sh:path td:returns ],
        [ sh:datatype xsd:string ;
            sh:description "TODO Check, was not in hctl ontology, if not could be source of discrepancy" ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path td:scopes ],
        [ sh:datatype xsd:anyURI ;
            sh:description "Target IRI of a link or submission target of a Form" ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path hctl:target ],
        [ sh:datatype xsd:string ;
            sh:description "A security schema applied to a (set of) affordance(s)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path td:securityDefinitions ],
        [ sh:datatype xsd:string ;
            sh:description "Assign a content type based on a media type IANA-MEDIA-TYPES (e.g., 'text/plain') and potential parameters  (e.g., 'charset=utf-8') for the media type." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 2 ;
            sh:path td:contentType ],
        [ sh:datatype xsd:string ;
            sh:description "Indicates the exact mechanism by which an interaction will be accomplished for a given protocol when there are multiple options." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 8 ;
            sh:path td:subprotocol ],
        [ sh:class hctl:AdditionalExpectedResponse ;
            sh:description "This optional term can be used if additional expected responses are possible, e.g. for error reporting. Each additional response needs to be distinguished from others in some way (for example, by specifying a protocol-specific response code), and may also have its own data schema." ;
            sh:nodeKind sh:BlankNodeOrIRI ;
            sh:order 7 ;
            sh:path td:additionalReturns ],
        [ sh:description "Indicates the semantic intention of performing the operation(s) described by the form." ;
            sh:in ( td:readProperty td:writeProperty td:observeProperty td:unobserveProperty td:invokeAction td:queryAction td:cancelAction td:subscribeEvent td:unsubscribeEvent td:readAllProperties <writeAllProperties> td:readMultipleProperties td:writeMultipleProperties td:observeAllProperties td:unobserveAllProperties td:subscribeAllEvents td:unsubscribeAllEvents td:queryAllActions ) ;
            sh:order 9 ;
            sh:path td:operationType ],
        [ sh:datatype xsd:anyURI ;
            sh:maxCount 1 ;
            sh:minCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 1 ;
            sh:path td:href ] ;
    sh:targetClass hctl:Form .

jsonschema:DataSchema a sh:NodeShape ;
    sh:closed true ;
    sh:description "Metadata that describes the data format used. It can be used for validation." ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:class td:MultiLanguage ;
            sh:description "title of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 2 ;
            sh:path td:titleInLanguage ],
        [ sh:class td:MultiLanguage ;
            sh:description "description of the TD element (Thing, interaction affordance, security scheme or data scheme) with language tag. By convention, a language tag must be added to the object of descriptionInLanguage. Otherwise use description." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 3 ;
            sh:path td:descriptionInLanguage ],
        [ sh:datatype xsd:string ;
            sh:description "Boolean value that is a hint to indicate whether a property interaction/value is read only (=true) or not (=false)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 6 ;
            sh:path td:readonly ],
        [ sh:class td:MultiLanguage ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 0 ;
            sh:path td:description ],
        [ sh:class td:MultiLanguage ;
            sh:description "Provides a human-readable title (e.g., display a text for UI representation) based on a default language." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:IRI ;
            sh:order 1 ;
            sh:path td:title ],
        [ sh:datatype xsd:string ;
            sh:description "Boolean value that is a hint to indicate whether a property interaction/value is write only (=true) or not (=false)." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 5 ;
            sh:path td:writeOnly ],
        [ sh:datatype xsd:string ;
            sh:description "Used to store the indexing name in the parent object when this schema appears as a property of an object schema." ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 4 ;
            sh:path td:propertyName ] ;
    sh:targetClass jsonschema:DataSchema .

td:MultiLanguage a sh:NodeShape ;
    sh:closed true ;
    sh:ignoredProperties ( rdf:type ) ;
    sh:property [ sh:datatype xsd:string ;
            sh:maxCount 1 ;
            sh:nodeKind sh:Literal ;
            sh:order 0 ;
            sh:path td:key ;
            sh:pattern "^(((([A-Za-z]{2,3}(-([A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-([A-Za-z]{4}))?(-([A-Za-z]{2}|[0-9]{3}))?(-([A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-([0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(x(-[A-Za-z0-9]{1,8})+))?)|(x(-[A-Za-z0-9]{1,8})+)|((en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)))$" ] ;
    sh:targetClass td:MultiLanguage .

